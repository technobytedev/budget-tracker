System.register(["./index-legacy-Biwst-_t.js","./index-legacy-Nj73XwRX.js"],(function(e,t){"use strict";var a,l,n,o,u,r,s,d,i,c,p,m,f,v,g,y,_,x,h,b,D,w,k,N,S,V,C,T,A,O,U,F,I,E,J,W,z,P,j,L,M,Y,q,B,G;return{setters:[e=>{a=e.d,l=e.r,n=e.o,o=e.x,u=e.a,r=e.w,s=e.u,d=e.I,i=e.b,c=e.e,p=e.f,m=e.g,f=e.h,v=e.y,g=e.z,y=e.A,_=e.B,x=e.s,h=e.C,b=e.D,D=e.E,w=e.F,k=e.G,N=e.H,S=e.J,V=e.K,C=e.i,T=e.L,A=e.M,O=e.N,U=e.O,F=e.P,I=e.Q,E=e.R,J=e.S,W=e.T,z=e.U,P=e.V,j=e.W,L=e.X,M=e.Y,Y=e.v,q=e.Z,B=e.t},e=>{G=e.S}],execute:function(){var t=document.createElement("style");t.textContent="ion-content{--keyboard-offset: 0px;--overflow-y: auto}.text-green{color:#00d336}.text-red{color:#df1800}.transactionWrapper{padding-left:10px;padding-right:10px}.custom-datetime-btn::part(native){background-color:#20d0ff;color:#fff;font-size:1.2rem;padding:10px 20px;border-radius:8px;margin-bottom:10px}\n",document.head.appendChild(t),e("default",a({__name:"Tab2Page",setup(e){const t=l(!1),a=l(!1);l(!1);const H=l(null),K=l(""),Q=l(""),R=l((new Date).toISOString()),X=l((new Date).toISOString().slice(0,7)),Z=l(""),$=l(""),ee=l([]),te=l([]),ae=l(),le=new G;n((async()=>{await le.create();const e=await le.get("transactions");Array.isArray(e)?(ee.value=e,re()):(ee.value=[],te.value=[])})),o(X,re);const ne=l(null),oe=e=>{ne.value=window.setTimeout((()=>{navigator.vibrate&&navigator.vibrate(100),(e=>{H.value=e,t.value=!0})(e)}),500)},ue=()=>{null!==ne.value&&(clearTimeout(ne.value),ne.value=null)};function re(){if(!X.value)return;const[e,t]=X.value.split("-"),a=Number(e),l=Number(t);isNaN(a)||isNaN(l)||(te.value=ee.value.filter((e=>{const t=new Date(e.date);return t.getFullYear()===a&&t.getMonth()===l-1})))}const se=async()=>{if(!(Q.value&&R.value&&Z.value&&$.value))return void console.warn("All fields are required.");const e={id:crypto.randomUUID(),amount:parseFloat(parseFloat(Q.value).toFixed(2)),date:R.value,category:Z.value,notes:$.value};ee.value.push(e),await le.set("transactions",JSON.parse(JSON.stringify(ee.value))),a.value=!0,K.value="Transaction added successfully.",Q.value="",R.value=(new Date).toISOString(),Z.value="",$.value="",re(),de()},de=()=>{var e;return null===(e=ae.value)||void 0===e?void 0:e.$el.dismiss(null,"cancel")};function ie(e){return e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}function ce(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}const pe=[{text:"Cancel",role:"cancel",handler:()=>{H.value=null}},{text:"Delete",role:"destructive",handler:async()=>{ee.value=ee.value.filter((e=>e.id!==H.value)),re(),await le.set("transactions",JSON.parse(JSON.stringify(ee.value))),H.value=null,a.value=!0,K.value="Transaction deleted successfully."}}];return(e,l)=>(Y(),u(s(d),null,{default:r((()=>[i(s(f),null,{default:r((()=>[i(s(c),null,{default:r((()=>[i(s(p),{style:{"padding-top":"20px"}},{default:r((()=>l[8]||(l[8]=[m("Transactions")]))),_:1})])),_:1})])),_:1}),i(s(x),{fullscreen:!0},{default:r((()=>[i(s(v),{slot:"fixed",vertical:"bottom",horizontal:"end",id:"open-modal",expand:"block"},{default:r((()=>[i(s(g),{class:"appPrimary"},{default:r((()=>[i(s(y),{icon:s(_)},null,8,["icon"])])),_:1})])),_:1}),i(s(x),{fullscreen:!0,"scroll-y":"","keyboard-attach":"",style:{margin:"10px!important"}},{default:r((()=>[i(s(h),{icon:s(b),datetime:"topdatetime",presentation:"month-year",style:{"margin-top":"20px"},class:"custom-datetime-btn"},null,8,["icon"]),i(s(D),{"is-open":a.value,message:K.value,duration:2e3,onDidDismiss:l[0]||(l[0]=e=>a.value=!1)},null,8,["is-open","message"]),i(s(w),{"keep-contents-mounted":""},{default:r((()=>[i(s(k),{id:"topdatetime",modelValue:X.value,"onUpdate:modelValue":l[1]||(l[1]=e=>X.value=e),presentation:"month-year","show-default-buttons":""},null,8,["modelValue"])])),_:1}),i(s(w),{ref_key:"modal",ref:ae,trigger:"open-modal"},{default:r((()=>[i(s(f),null,{default:r((()=>[i(s(c),{style:{"margin-top":"20px"}},{default:r((()=>[i(s(N),{slot:"start"},{default:r((()=>[i(s(S),{onClick:l[2]||(l[2]=e=>de())},{default:r((()=>l[9]||(l[9]=[m("Cancel")]))),_:1})])),_:1}),i(s(N),{slot:"end"},{default:r((()=>[i(s(S),{strong:"",onClick:se},{default:r((()=>l[10]||(l[10]=[m("Save")]))),_:1})])),_:1})])),_:1})])),_:1}),i(s(x),{fullscreen:!0,class:"ion-padding"},{default:r((()=>[i(s(V),{class:""},{default:r((()=>[l[17]||(l[17]=C("h6",{style:{"text-align":"center"}},"New Transaction",-1)),i(s(T),null,{default:r((()=>[i(s(A),{position:"floating",style:{"margin-bottom":"10px"}},{default:r((()=>l[11]||(l[11]=[m("Amount")]))),_:1}),i(s(O),{modelValue:Q.value,"onUpdate:modelValue":l[3]||(l[3]=e=>Q.value=e),type:"number",inputmode:"decimal",placeholder:"100.00"},null,8,["modelValue"])])),_:1}),i(s(T),{class:"ion-margin-top"},{default:r((()=>[i(s(A),{position:"floating",style:{"margin-bottom":"10px"}},{default:r((()=>l[12]||(l[12]=[m("Category")]))),_:1}),i(s(U),{modelValue:Z.value,"onUpdate:modelValue":l[4]||(l[4]=e=>Z.value=e),interface:"popover",placeholder:"Select Category"},{default:r((()=>[i(s(F),{value:"income"},{default:r((()=>l[13]||(l[13]=[m("Income")]))),_:1}),i(s(F),{value:"expenses"},{default:r((()=>l[14]||(l[14]=[m("Expenses")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),i(s(T),{class:"ion-margin-top"},{default:r((()=>[i(s(A),{position:"floating",style:{"margin-bottom":"25px"}},{default:r((()=>l[15]||(l[15]=[m("Date:")]))),_:1}),i(s(h),{datetime:"datetime",presentation:"date",style:{"margin-bottom":"20px"}}),i(s(w),{"keep-contents-mounted":""},{default:r((()=>[i(s(k),{id:"datetime",presentation:"date",modelValue:R.value,"onUpdate:modelValue":l[5]||(l[5]=e=>R.value=e),"show-default-buttons":""},null,8,["modelValue"])])),_:1})])),_:1}),i(s(T),{class:"ion-margin-top"},{default:r((()=>[i(s(A),{position:"floating",style:{"margin-bottom":"10px"}},{default:r((()=>l[16]||(l[16]=[m("Notes")]))),_:1}),i(s(O),{modelValue:$.value,"onUpdate:modelValue":l[6]||(l[6]=e=>$.value=e),placeholder:"Enter notes..."},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},512),i(s(I),null,{default:r((()=>[i(s(E),{value:"first","content-id":"first"},{default:r((()=>[i(s(A),null,{default:r((()=>l[18]||(l[18]=[m("All")]))),_:1})])),_:1}),i(s(E),{value:"second","content-id":"second"},{default:r((()=>[i(s(A),null,{default:r((()=>l[19]||(l[19]=[m("Income")]))),_:1})])),_:1}),i(s(E),{value:"third","content-id":"third"},{default:r((()=>[i(s(A),null,{default:r((()=>l[20]||(l[20]=[m("Expenses")]))),_:1})])),_:1})])),_:1}),i(s(J),{padding:"true","scroll-y":""},{default:r((()=>[i(s(W),{id:"first",class:"transactionWrapper"},{default:r((()=>{var e;return[(null===(e=te.value)||void 0===e?void 0:e.length)>0?(Y(),u(s(V),{key:0},{default:r((()=>[(Y(!0),P(L,null,j(te.value,((e,t)=>(Y(),u(s(T),{button:"",key:e.id,onTouchstart:t=>oe(e.id),onTouchend:ue,onTouchcancel:ue},{default:r((()=>[i(s(A),{style:{margin:"5px!important"}},{default:r((()=>[C("h2",null,[l[21]||(l[21]=m(" Amount: ")),C("span",{class:q("expenses"==e.category?"text-red":"text-green")},B("expenses"==e.category?"-":"+")+" "+B(ce(e.amount)),3)]),C("p",null,"Date: "+B(ie(e.date)),1),C("p",null,"Category: "+B(e.category),1),C("p",null,"Notes: "+B(e.notes),1)])),_:2},1024)])),_:2},1032,["onTouchstart"])))),128))])),_:1})):z("",!0)]})),_:1}),i(s(W),{id:"second",class:"transactionWrapper"},{default:r((()=>{var e;return[(null===(e=te.value)||void 0===e?void 0:e.length)>0?(Y(),u(s(V),{key:0},{default:r((()=>[(Y(!0),P(L,null,j(te.value,((e,t)=>(Y(),P(L,{key:e.id},["income"==e.category?(Y(),u(s(T),{key:0,button:""},{default:r((()=>[i(s(A),{style:{margin:"5px!important"}},{default:r((()=>[C("h2",null,[l[22]||(l[22]=m(" Amount: ")),C("span",{class:q("expenses"==e.category?"text-red":"text-green")},B("expenses"==e.category?"-":"+")+" "+B(ce(e.amount)),3)]),C("p",null,"Date: "+B(ie(e.date)),1),C("p",null,"Category: "+B(e.category),1),C("p",null,"Notes: "+B(e.notes),1)])),_:2},1024)])),_:2},1024)):z("",!0)],64)))),128))])),_:1})):z("",!0)]})),_:1}),i(s(W),{id:"third",class:"transactionWrapper"},{default:r((()=>{var e;return[(null===(e=te.value)||void 0===e?void 0:e.length)>0?(Y(),u(s(V),{key:0},{default:r((()=>[(Y(!0),P(L,null,j(te.value,((e,t)=>(Y(),P(L,{key:e.id},["expenses"==e.category?(Y(),u(s(T),{key:0,button:""},{default:r((()=>[i(s(A),{style:{margin:"5px!important"}},{default:r((()=>[C("h2",null,[l[23]||(l[23]=m(" Amount: ")),C("span",{class:q("expenses"==e.category?"text-red":"text-green")},B("expenses"==e.category?"-":"+")+" "+B(ce(e.amount)),3)]),C("p",null,"Date: "+B(ie(e.date)),1),C("p",null,"Category: "+B(e.category),1),C("p",null,"Notes: "+B(e.notes),1)])),_:2},1024)])),_:2},1024)):z("",!0)],64)))),128))])),_:1})):z("",!0)]})),_:1})])),_:1}),i(s(M),{"is-open":t.value,header:"Delete this transaction?",message:"Once deleted, this record cannot be recovered.",buttons:pe,onDidDismiss:l[7]||(l[7]=e=>t.value=!1)},null,8,["is-open"])])),_:1})])),_:1})])),_:1}))}}))}}}));
